<h3>Select a state to get the counties Info</h3>
<div id="custom-templates">

  <%= collection_select(:state, :id, State.all, :id, :name, { :multiple => false, :prompt => 'Select a State' })  %>


  </div>
<br/>
<br/>
<div id="counties_grid">
</div>
<%= javascript_tag do %>
$('select#state_id').on('change', function(event) {
  var state_id = $(this).val();
  $.ajax({
  url:"get_counties_for_stateId",
  type: "get",
  data: "id=" + state_id,
  success: function(){
    console.log("success"); //just for testing purposes.
  },
  error:function(){
    console.log("Error");
  }
});
})
<% end %>